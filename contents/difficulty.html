<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Title</title>
  <link href="../assets/stylesheets/bootstrap.css" rel="stylesheet">
  <link href="../assets/stylesheets/main.css" rel="stylesheet">
</head>
<body>
<div class="container-fixed-ratio center-block" style="background-color: #0f0f0f;" ratio-y="1" ratio-x="1" id="container">
  <div class="container-fluid">
    <div class="row">
      <div class="diff-block col-xs-6" style="background-color: #31b0d5;"></div>
      <div class="diff-block col-xs-6" style="background-color: #0031d5;"></div>
      <div class="diff-block col-xs-6" style="background-color: #31b012;"></div>
      <div class="diff-block col-xs-6" style="background-color: #ffb0d5;"></div>
    </div>
  </div>
</div>

<script src="../assets/javascripts/jquery-3.3.1.js"></script>
<script src="../assets/javascripts/bootstrap.js"></script>
<script>
  $(document).ready(function() {
      $(window).resize(function() {
          resize_container($('#container'));
      });
      function resize_container(elem) {
          let ratio_y = parseInt(elem.attr('ratio-y'));
          let ratio_x = parseInt(elem.attr('ratio-x'));
          let win_y = $(window).height();
          let win_x = $(window).width();
          // console.log(win_y, win_x);
          if (win_x >= win_y / ratio_y * ratio_x) {
              elem.height(win_y);
              elem.width(win_y / ratio_y * ratio_x);
          }
          else {
              elem.height(win_x / ratio_x * ratio_y);
              elem.width(win_x);
          }
          elem.css('margin-top', (win_y - elem.height()) / 2);
          $('div.diff-block').each(function() {
              $(this).height(elem.height() / 2);
          })
      }
      resize_container($('#container'));
  });
</script>
</body>
</html>
