<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Difficulty</title>
  <link href="//keybrl-webapp.oss-cn-shenzhen.aliyuncs.com/useful/bootstrap-v3.3.7/css/bootstrap.min.css" rel="stylesheet">
  <link href="//keybrl-webapp.oss-cn-shenzhen.aliyuncs.com/keybrl-mines/stylesheets/main.css" rel="stylesheet">
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-119555935-2"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','UA-119555935-2');</script>
</head>
<body class="main">
<div class="container-fixed-ratio center-block" ratio-y="1" ratio-x="1" id="container">
  <div class="container-fluid">
    <div class="row">
      <div class="diff-block col-xs-6">
        <button class="diff-btn" id="diff-88" onclick="location.href = './mines.html?height=8&width=8&mines=10'">
          <img src="//keybrl-webapp.oss-cn-shenzhen.aliyuncs.com/keybrl-mines/image/diff-88.png">
        </button>
      </div>
      <div class="diff-block col-xs-6">
        <button class="diff-btn" id="diff-1616" onclick="location.href = './mines.html?height=16&width=16&mines=40'">
          <img src="//keybrl-webapp.oss-cn-shenzhen.aliyuncs.com/keybrl-mines/image/diff-1616.png">
        </button>
      </div>
      <div class="diff-block col-xs-6">
        <button class="diff-btn" id="diff-3030" onclick="location.href = './mines.html?height=16&width=30&mines=99'">
          <img src="//keybrl-webapp.oss-cn-shenzhen.aliyuncs.com/keybrl-mines/image/diff-3030.png">
        </button>
      </div>
      <div class="diff-block col-xs-6">
        <button class="diff-btn" id="diff-custom" onclick="cust_diff()">
          <img src="//keybrl-webapp.oss-cn-shenzhen.aliyuncs.com/keybrl-mines/image/diff-custom.png">
        </button>
      </div>
    </div>
  </div>
</div>

<script src="//keybrl-webapp.oss-cn-shenzhen.aliyuncs.com/useful/jquery/jquery-3.3.1.min.js"></script>
<script src="//keybrl-webapp.oss-cn-shenzhen.aliyuncs.com/useful/bootstrap-v3.3.7/js/bootstrap.min.js"></script>
<script>
  $(document).ready(function() {
      $(window).resize(function() {
          resize_container($('#container'));
      });
      function resize_container(elem) {
          let ratio_y = parseInt(elem.attr('ratio-y'));
          let ratio_x = parseInt(elem.attr('ratio-x'));
          let win_y = $(window).height();
          let win_x = $(window).width();
          // console.log(win_y, win_x);
          if (win_x >= win_y / ratio_y * ratio_x) {
              elem.height(win_y - 20);
              elem.width((win_y - 20) / ratio_y * ratio_x);
          }
          else {
              elem.height((win_x - 20) / ratio_x * ratio_y);
              elem.width(win_x - 20);
          }
          elem.css('margin-top', (win_y - elem.height() - 20) / 2);
          $('div.diff-block').each(function() {
              $(this).height(elem.height() / 2 - 20);
          })
      }
      resize_container($('#container'));
  });
  function cust_diff() {
      if (confirm("目前“自定义雷区”还未开发完毕，只有最基础的功能，你可以继续使用，但你需要自己保证输入是合适的。\n如果你输入的数值过大，或者完全不合理（比如 地雷数目 > 格子总数 - 9）,则可能因此导致浏览器卡死！\n是否要继续使用？")) {
          let width = prompt("雷区宽度", "30");
          let height = prompt("雷区高度", "16");
          let mines = prompt("地雷数目", "99");
          location.href = './mines.html?height=' + height + '&width=' + width + '&mines=' + mines;
      }
  }
</script>
</body>
</html>
